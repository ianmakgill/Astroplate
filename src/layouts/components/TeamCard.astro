---
import { plainify } from "@/lib/utils/textConverter";
import ImageMod from "./ImageMod.astro";
import { FaLinkedin } from "react-icons/fa";

const { data, collection } = Astro.props;
const { title, image, job_title, description, linkedin_url } = data.data;
---

<div class="bg-body dark:bg-darkmode-body text-center">
  {
    image && (
      <div class="mb-6 w-full h-[280px] overflow-hidden rounded-lg mx-auto">
        <ImageMod
          class="w-full h-full object-cover"
          src={image}
          alt={title}
          width={400}
          height={280}
          format="webp"
        />
      </div>
    )
  }

  <h3 class="mb-2">
    <a href={`/${collection}/${data.id}`} class="hover:text-primary">
      {title}
    </a>
  </h3>

  {job_title && (
    <p class="mb-4 text-lg font-semibold text-primary dark:text-darkmode-primary">
      {job_title}
    </p>
  )}

  {description && (
    <p class="mb-6 text-text dark:text-darkmode-text">
      {plainify(description.slice(0, 120))}...
    </p>
  )}

  <div class="flex items-center justify-center gap-4">
    <a
      class="btn btn-outline-primary btn-sm"
      href={`/${collection}/${data.id}`}
    >
      View Profile
    </a>

    {linkedin_url && (
      <a
        href={linkedin_url}
        target="_blank"
        rel="noopener noreferrer"
        class="inline-flex items-center justify-center h-9 w-9 rounded-sm bg-primary text-white hover:bg-primary/90 dark:bg-darkmode-primary"
        aria-label="LinkedIn Profile"
      >
        <FaLinkedin className="h-5 w-5" />
      </a>
    )}
  </div>
</div>
