---
import Logo from "@/components/Logo.astro";
import Social from "@/components/Social.astro";
import config from "@/config/config.json";
import menu from "@/config/menu.json";
import social from "@/config/social.json";
import { markdownify } from "@/lib/utils/textConverter";

const { footer }: { footer: { name: string; links: { name: string; url: string }[] }[] } = menu;
---

<footer class="bg-light dark:bg-darkmode-light">
  <div class="container">
    <div class="row py-10">
      <div class="mb-8 lg:col-3 lg:mb-0">
        <Logo />
      </div>
      <div class="lg:col-9">
        <div class="row">
          {
            footer.map((section) => (
              <div class="mb-8 lg:col-3 lg:mb-0">
                <h5 class="mb-4 font-semibold">{section.name}</h5>
                <ul class="space-y-2">
                  {section.links.map((link) => (
                    <li>
                      <a
                        href={link.url}
                        class="text-text-light hover:text-text dark:text-darkmode-text-light dark:hover:text-darkmode-text"
                      >
                        {link.name}
                      </a>
                    </li>
                  ))}
                </ul>
                {section.name === "Company" && (
                  <div class="mt-4">
                    <Social source={social.main} className="social-icons" />
                  </div>
                )}
              </div>
            ))
          }
        </div>
      </div>
    </div>
  </div>
  <div class="border-t border-border py-7 dark:border-darkmode-border">
    <div
      class="container text-center text-text-light dark:text-darkmode-text-light"
    >
      <p set:html={markdownify(config.params.copyright)} />
    </div>
  </div>
</footer>
