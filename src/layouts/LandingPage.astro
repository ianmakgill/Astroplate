---
import StatCard from "@/layouts/components/StatCard.astro";
import InfoCard from "@/layouts/components/InfoCard.astro";
import InfoGrid from "@/layouts/components/InfoGrid.astro";
import CTASection from "@/layouts/components/CTASection.astro";

interface Props {
  data: any;
}

const { data } = Astro.props;
const { hero, stats, infoCards, cta } = data;
---

<div class="landing-page">
  <!-- Hero Section -->
  {hero && (
    <section class="hero-section py-12 md:py-20">
      <div class="container">
        <div class="text-center max-w-4xl mx-auto">
          {hero.title && (
            <h1 class="mb-6 text-4xl md:text-5xl lg:text-6xl font-bold">
              {hero.title}
            </h1>
          )}
          {hero.description && (
            <p class="mb-8 text-xl text-text dark:text-darkmode-text">
              {hero.description}
            </p>
          )}
        </div>
      </div>
    </section>
  )}

  <!-- Stats Section -->
  {stats && stats.items && stats.items.length > 0 && (
    <section class="stats-section py-12">
      <div class="container">
        {stats.title && (
          <h2 class="text-3xl md:text-4xl font-bold mb-8 text-center">{stats.title}</h2>
        )}
        {stats.image && (
          <div class="mb-8 text-center">
            <img src={stats.image} alt={stats.title || "Statistics"} class="mx-auto max-w-full h-auto rounded-lg" />
          </div>
        )}
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
          {stats.items.map((stat: any) => (
            <StatCard
              value={stat.value}
              label={stat.label}
              icon={stat.icon}
              variant={stat.variant || 'primary'}
            />
          ))}
        </div>
      </div>
    </section>
  )}

  <!-- Main Content -->
  <section class="content-section py-12">
    <div class="container">
      <div class="row justify-center">
        <div class="lg:col-10">
          <article class="prose prose-lg max-w-none dark:prose-invert">
            <slot />
          </article>
        </div>
      </div>
    </div>
  </section>

  <!-- Info Cards Section -->
  {infoCards && infoCards.cards && infoCards.cards.length > 0 && (
    <section class="info-cards-section py-12 bg-theme-light dark:bg-darkmode-theme-light">
      <div class="container">
        {infoCards.title && (
          <div class="text-center mb-12">
            <h2 class="text-3xl md:text-4xl font-bold mb-4">
              {infoCards.title}
            </h2>
            {infoCards.description && (
              <p class="text-lg text-text dark:text-darkmode-text">
                {infoCards.description}
              </p>
            )}
          </div>
        )}

        <InfoGrid columns={infoCards.columns || 3}>
          {infoCards.cards && infoCards.cards.map((card: any) => (
            <InfoCard
              title={card.title}
              content={card.content}
              icon={card.icon}
              link={card.link}
              linkText={card.linkText}
            />
          ))}
        </InfoGrid>
      </div>
    </section>
  )}

  <!-- CTA Section -->
  {cta && (
    <section class="cta-wrapper py-12">
      <div class="container">
        <CTASection
          title={cta.title}
          description={cta.description}
          primaryButton={cta.primaryButton}
          secondaryButton={cta.secondaryButton}
          variant={cta.variant || 'gradient'}
        />
      </div>
    </section>
  )}
</div>
