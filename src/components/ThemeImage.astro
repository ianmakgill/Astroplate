---
import ImageMod from "@/layouts/components/ImageMod.astro";

interface Props {
  lightSrc: string;
  darkSrc: string;
  alt: string;
  height?: number;
  width?: number;
  class?: string;
  format?: "webp" | "avif" | "png" | "jpg";
}

const { lightSrc, darkSrc, alt, height, width, class: className, format = "webp" } = Astro.props;
---

<div class="theme-image-wrapper">
  <div class="theme-image-light">
    <ImageMod
      src={lightSrc}
      height={height}
      width={width}
      alt={alt}
      class={className || ""}
      format={format}
    />
  </div>
  <div class="theme-image-dark">
    <ImageMod
      src={darkSrc}
      height={height}
      width={width}
      alt={alt}
      class={className || ""}
      format={format}
    />
  </div>
</div>

<style>
  .theme-image-wrapper {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .theme-image-light {
    display: block;
    width: 100%;
  }

  .theme-image-dark {
    display: none;
    width: 100%;
  }

  :global(.dark) .theme-image-light {
    display: none;
  }

  :global(.dark) .theme-image-dark {
    display: block;
  }
</style>
